<!DOCTYPE HTML>
<html>
	<head>
		<title>Top10 List</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="keywords" content="top10" />
		<meta name="description" content="top10 list" />
		<link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
		<!--[if lte IE 8]><script src="./assets/js/ie/html5shiv.js"></script><![endif]-->
		<link href="./assets/css/style.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="./assets/css/main.css" type="text/css"/>
		<!--[if lte IE 9]><link rel="stylesheet" href="./assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="./assets/css/ie8.css" /><![endif]-->
		<!--js引入-->
		<script type="text/javascript" src="./assets/js/jquery.min.js"></script>
		<script type="text/javascript" src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
		<script src="./assets/js/skel.min.js"></script>
		<script src="./assets/js/util.js"></script><!-- 三个js文件共同显示菜单栏的动画 -->
		<script src="./assets/js/main.js"></script>
		<!--[if lte IE 8]><script src="./assets/js/ie/respond.min.js"></script><![endif]-->
	</head>
	
	<body>
		<div id="wrapper">
		<!-- Header -->
			<header id="header">
				<div class="inner">
					<!-- Search -->
						<div class="">
							<div class="input-group" style="float:right;width:200px;height: 30px;">
								<input style = "height: 30px;" id="search" type="text" class="form-control input-lg" onkeydown="JavaScript:if (event.keyCode==13) search();"><span style="background:lightgray;font-weight: bold;" class="input-group-addon btn btn-primary" onclick="search()">Search</span>
							</div>
						</div>		
					<!-- Logo -->
						<a href="./index.html" class="logo">
							<span class="symbol"><img src="./images/logo.svg" alt="" /></span><span class="title">Team 11</span>
						</a>

					<!-- Nav -->
						<nav>
							<ul>
								<li><a href="#menu">Menu</a></li>
							</ul>
						</nav>																		
				</div>
			</header>

		<!-- Menu -->
			<nav id="menu">
				<h2>Menu</h2>
				<ul>
					<li><a href="./index.html">Home</a></li>
					<li><a href="./topTen.html?name=topten">The Top10</a></li>
					<li><a href="./corr.html">corr</a></li>
				</ul>
			</nav>

		<!-- Main -->
			<div id="main">
				<div class="inner">
					<div style="margin: 0 auto;">
						<h1 class="titleH1 underNone clearfix">
							<span class="left underNone underLine" style="font-size: 30px;"> Top10 Products </span>
						</h1>
						<div class="jyTable">
							<div class="clearfix">
								<ul class="title title1 left nav nav-tabs">
									<li style="font-size: 20px;font-weight:bold;"><a href="#zong" data-toggle="tab" onclick="topTenOf('day', data)">NASDAQ</a></li>
									<li style="font-size: 20px;font-weight:bold;"><a href="#zong" data-toggle="tab" onclick="topTenOf('week', data)">week</a></li>
									<li style="font-size: 20px;font-weight:bold;"><a href="#zong" data-toggle="tab" onclick="topTenOf('month', data)">month</a></li>
								</ul>								
							</div><br />
							<div  id = "zong" class='zong tab-pane fade in active' >
								<div class="list list1">
									<div class="tabCon">
										<ul>
											<li class="tabth clearfix">
												<span style="width: 13%;font-weight:bold;">Ranking</span>
												<span style="width: 19%;font-weight:bold;">Company Name</span>
												<span style="width: 17%;font-weight:bold;">Date</span>
												<span style="width: 17%;font-weight:bold;">Low Price</span>
												<span style="width: 17%;font-weight:bold;">High Price</span>
												<span style="width: 17%;font-weight:bold;">Increase</span>												
											</li>
										</ul>
										<div id="s1">
											<ul id="tabUI" class="tabUl">
												

											</ul>
										</div>
									</div>									
								</div>
							</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
		</div>
		
		<script type="text/javascript">
			window.onload = function (){
				//$.get("/topten/", function (data, status) {
					data = [{
						"Name":899,
						"low":4356,
						"high": 6987,
						"increase":849389,
						"date":'2013/3/4',
						"volume":53435
					},
					{
						"Name":899,
						"low":4356,
						"high": 6987,
						"increase":849389,
						"date":'2013/3/4'
					}
					];					
					createUL(data, 0, 10);						
				//});				
			}
			
			//创建表格
			function createUL (data, start, end){				
				var ul = document.getElementById("tabUI");
				for(var i = start; i < end; i++){
					var li = document.createElement('li');
					var span1 = document.createElement('span');
					var span2 = document.createElement('span');
					var span3 = document.createElement('span');
					var span4 = document.createElement('span');
					var span5 = document.createElement('span');
					var span6 = document.createElement('span');
					
					li.className = "tabtr clearfix";
					li.appendChild(span1);
					span1.style = "width: 13%;font-weight:bold;";
					span1.innerHTML = i+1;	
					li.appendChild(span2);
					span2.style = "width: 19%;font-weight:bold;";
					span2.innerHTML = data[i]["Name"];
					var name = data[i]["Name"];
					span2.onclick = function(){
						window.location.href = './generic.html?stock=' + name;
					};
					li.appendChild(span3);
					span3.style = "width: 17%;font-weight:bold;";
					span3.innerHTML = data[i]["date"];
					li.appendChild(span4);
					span4.style = "width: 17%;font-weight:bold;";
					span4.innerHTML = data[i]["low"];
					li.appendChild(span5);
					span5.style = "width: 17%;font-weight:bold;";
					span5.innerHTML = data[i]["high"];
					li.appendChild(span6);
					span6.style = "width: 17%;font-weight:bold;";
					span6.innerHTML = data[i]["increase"];						
					ul.appendChild(li);
				}
				document.getElementById('test').appendChild(ul);
			}
			
			//检索不同类型的topten
			function topTenOf(type, data){
				$.get("/topten" + type, function (data, status) {									
					$('#tabUI li').remove();
					if("day" == type){
						createUL(data, 0, 10);	
					}
					else if("week" == type){
						createUL(data, 10, 20);
					}
					else if("month" == type){
						createUL(data, 20, 30);
					}			
				});
			}
			
			//搜索框
			function search() {
				var searchValue = document.getElementById("search").value;
				window.location.href = "./generic.html?stock=" + searchValue;
			}
		</script>
		
	</body>
</html>